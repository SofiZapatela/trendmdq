<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <link rel="icon" type="image/png" href="fotos/logo claro.png">
  <title>Trend MDQ</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


  <!-- Poppins desde Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<meta property="og:title" content="Trend Mdq" />
<meta property="og:description" content="Ropa hermosa para personas que cuidan el ambiente!" />
<meta property="og:image" content="https://trendmdq.netlify.app/fotos/logo.png" />
<meta property="og:url" content="https://trendmdq.netlify.app/" />
<meta property="og:type" content="website" />

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html#hero">
  <img src="fotos/logo.png" alt="Logo Trend">
</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end text-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" href="#inicio">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#productos">Productos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#tejidos">Tejidos</a>
        </li> 
        <li class="nav-item">
          <a class="nav-link" href="nosotros.html">Nosotros</a>
        </li> 
        <li class="nav-item">
          <a class="nav-link" href="#contacto">Contacto</a>
        </li>
      </ul>
    </div>
  </div>
</nav>




<header class="hero">
  <div class="hero-overlay"></div>
  <img src="fotos/fondo mar.png" alt="fondo mar" class="hero-bg">
  <div class="hero-text">
    <img src="fotos/logo claro.png" alt="logo">
    <h1 class="brand">
      Trend
      <span class="sub">MDQ</span>
    </h1>
  </div>
</header>


  <!-- CARRUSEL -->
<section class="carrousel-container">
  <div class="carrousel">
    <h2>NUEVOS INGRESOS</h2>
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="fotos/blusa-amalfi.jpeg" alt="Nuevo 1"></div>
        <div class="swiper-slide"><img src="fotos/blusa-jean.jpeg" alt="Nuevo 2"></div>
        <div class="swiper-slide"><img src="fotos/mono-leopardo.jpeg" alt="Nuevo 3"></div>
        <div class="swiper-slide"><img src="fotos/mono-taxi.jpeg" alt="Nuevo 4"></div>
        <div class="swiper-slide"><img src="fotos/vestido-cielo.jpeg" alt="Nuevo 5"></div>
        <div class="swiper-slide"><img src="fotos/vestido-nube.jpeg" alt="Nuevo 6"></div>
        <div class="swiper-slide"><img src="fotos/vestido-fuego.jpeg" alt="Nuevo 7"></div>
        <div class="swiper-slide"><img src="fotos/vestido-esperanza.jpeg" alt="Nuevo 8"></div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </div>
</section>

 <!-- Contenedor general de productos y filtros -->
<section id="productos-container">

  <!-- filtros -->
  <div class="filtros-container">
    <button class="filtro-btn">
      <i class="fas fa-filter filtro-icon"></i> Filtros
    </button>

    <div id="filtros-card" class="filtros-card oculto">
      <select id="filtro-tipo" class="form-select">
        <option value="">Tipo de prenda</option>
        <option value="vestido">Vestido</option>
        <option value="blusa">Blusa</option>
        <option value="pantalon">Pantal√≥n</option>
        <option value="campera">Campera</option>
        <option value="mono">Mono</option>
        <option value="falda">Falda</option>
        <option value="conjunto">Conjunto</option>
        <option value="chaqueta">Chaqueta</option>
        <option value="zapatos">Zapatos</option>
      </select>

      <select id="filtro-talle" class="form-select">
        <option value="">Talle</option>
        <option value="S">S</option>
        <option value="M">M</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
        <option value="XXL">XXL</option>
        <option value="38">38 zapatos</option>
      </select>

      <select id="filtro-precio" class="form-select">
        <option value="">Ordenar por precio</option>
        <option value="asc">Menor a mayor</option>
        <option value="desc">Mayor a menor</option>
      </select>
    </div>
  </div>

  <!-- Grid para productos -->
  <h2>Nuestros Productos</h2>
  <section id="productos" class="grid-productos"></section>

  <!-- Grid para tejidos -->
  <h2>Nuestros Tejidos</h2>

  <section id="tejidos" class="grid-productos" style="margin-top: 50px;"></section>
</section>


<div style="max-width: 700px; margin: 40px auto; background-color: #F5EBDD; color: #29899b; padding: 20px 25px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center; font-family: PlayfairDisplay, sans-serif;">
  <h3 style="margin: 0;">üì¶ Hacemos envios a todo el pa√≠s por Correo Argentino</h3>
</div>



  <!-- CONTACTO -->
  <section id="contacto">
    <h2>Contacto</h2>
    <p>Consultas al Whatsapp</p>
    <a href="https://wa.me/2233393119" target="_blank">COMPRA AC√Å</a>
  </section>

<footer style="text-align:center; padding: 20px; background-color: #29899b; color: #F5EBDD; font-family: Arial, sans-serif;">
  <p style="margin:0;">&copy; 2025 Trend Mdq</p>
  <div style="margin-top:10px; display: flex; justify-content: center; align-items: center; gap: 25px;">
    
    <!-- Instagram -->
    <a href="https://www.instagram.com/trendmdq/" target="_blank" rel="noopener noreferrer" style="color:#F5EBDD; font-size: 24px; text-decoration:none;">
      <i class="fab fa-instagram" aria-hidden="true"></i><span class="sr-only">Instagram</span>
    </a>
    
    <!-- Ubicaci√≥n sin link -->
    <div style="color:#F5EBDD; display: inline-flex; align-items: center; font-size: 18px;">
      <i class="fas fa-map-marker-alt" aria-hidden="true" style="font-size: 22px; margin-right: 6px;"></i>
      <span>Mar del Plata</span>
    </div>
    
  </div>
</footer>



  <!-- Swiper JS -->

<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script>
    const swiper = new Swiper('.mySwiper', {
      loop: true,
      slidesPerView: 2, // valor por defecto (mobile primero)
      spaceBetween: 20,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      autoHeight: true,
      breakpoints: {
        480: { slidesPerView: 2 },
        768: { slidesPerView: 3 },
        1024: { slidesPerView: 4 },
      }
    });
  </script>


<!-- Bootstrap JS + Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Control mostrar/ocultar filtro
  const filtroBtn = document.querySelector('.filtro-btn');
  const filtrosCard = document.getElementById('filtros-card');

  filtroBtn.addEventListener('click', () => {
    filtrosCard.classList.toggle('active');
    filtrosCard.classList.toggle('oculto');
  });

  // Opcional: cerrar filtros si clickeas afuera
  document.addEventListener('click', (e) => {
    if (!filtrosCard.contains(e.target) && !filtroBtn.contains(e.target)) {
      filtrosCard.classList.add('oculto');
      filtrosCard.classList.remove('active');
    }
  });

  // El resto: filtro y carga de productos (como te pas√© antes)

  const filtroTipo = document.getElementById("filtro-tipo");
  const filtroTalle = document.getElementById("filtro-talle");
  const filtroPrecio = document.getElementById("filtro-precio");

  const contenedorProductos = document.getElementById("productos");
  const contenedorTejidos = document.getElementById("tejidos");

  let productosArray = [];
  let tejidosArray = [];

  async function cargarProductos() {
    const baseURL = "https://trendmdq.vercel.app/";
    const categorias = ["productos", "tejidos"];

    contenedorProductos.innerHTML = "";
    contenedorTejidos.innerHTML = "";
    productosArray = [];
    tejidosArray = [];

    for (let cat of categorias) {
      const snap = await db.collection(cat).get();

      snap.forEach((doc) => {
        const p = doc.data();

        let imgSrc = p.img || p.imagen || "";
        if (imgSrc && !imgSrc.startsWith("http")) {
          imgSrc = baseURL + imgSrc;
        }

        const titulo = p.titulo || p.nombre || "";
        const descripcion = p.desc || p.descripcion || "";

        const productoDiv = document.createElement("div");
        productoDiv.className = "producto";

        productoDiv.dataset.tipo = (p.tipo || "").toLowerCase();
        productoDiv.dataset.talle = Array.isArray(p.talle) ? p.talle.map(t => t.toUpperCase()).join(",") : "";
        productoDiv.dataset.precio = p.precio || "0";

        productoDiv.innerHTML = `
          <a href="${p.href || '#'}" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: inherit;">
            <h3>${titulo}</h3>
            <img src="${imgSrc}" width="150" />
            <p>${descripcion}</p>
            <p><strong>$${p.precio || ""}</strong></p>
          </a>
        `;

        if (cat === "productos") {
          contenedorProductos.appendChild(productoDiv);
          productosArray.push(productoDiv);
        } else if (cat === "tejidos") {
          contenedorTejidos.appendChild(productoDiv);
          tejidosArray.push(productoDiv);
        }
      });
    }
  }

  function renderizarProductos(array, contenedor) {
    contenedor.innerHTML = "";
    array.forEach(p => contenedor.appendChild(p));
  }

  function filtrarYOrdenar() {
    const tipo = filtroTipo.value.toLowerCase();
    const talle = filtroTalle.value.toUpperCase();
    const orden = filtroPrecio.value;

    function filtrarArray(arr) {
      return arr.filter(prod => {
        const tipoProd = prod.dataset.tipo || "";
        const talleProd = prod.dataset.talle || "";
        const talleIncluye = talle ? talleProd.split(",").map(t => t.trim()).includes(talle) : true;
        const tipoCoincide = !tipo || tipoProd === tipo;
        return tipoCoincide && talleIncluye;
      });
    }

    function ordenarArray(arr) {
      if (!orden) return arr;
      return arr.slice().sort((a, b) => {
        const precioA = parseInt(a.dataset.precio) || 0;
        const precioB = parseInt(b.dataset.precio) || 0;
        return orden === "asc" ? precioA - precioB : precioB - precioA;
      });
    }

    let filtradosProductos = filtrarArray(productosArray);
    let filtradosTejidos = filtrarArray(tejidosArray);

    filtradosProductos = ordenarArray(filtradosProductos);
    filtradosTejidos = ordenarArray(filtradosTejidos);

    renderizarProductos(filtradosProductos, contenedorProductos);
    renderizarProductos(filtradosTejidos, contenedorTejidos);
  }

  filtroTipo.addEventListener("change", filtrarYOrdenar);
  filtroTalle.addEventListener("change", filtrarYOrdenar);
  filtroPrecio.addEventListener("change", filtrarYOrdenar);

  cargarProductos();
</script>


  
<!-- FIREBASE -->

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAMYXqevFiswKZVICllkDVq2ymj6EgBn6I",
    authDomain: "trendmdq-4e495.firebaseapp.com",
    projectId: "trendmdq-4e495",
    storageBucket: "trendmdq-4e495.appspot.com",
    messagingSenderId: "866820424354",
    appId: "1:866820424354:web:548df9c9c21a881a354dfb"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  document.addEventListener("DOMContentLoaded", () => {
    const filtroTipo = document.getElementById("filtro-tipo");
    const filtroTalle = document.getElementById("filtro-talle");
    const filtroPrecio = document.getElementById("filtro-precio");

    const contenedorProductos = document.getElementById("productos");
    const contenedorTejidos = document.getElementById("tejidos");

    let productosArray = [];
    let tejidosArray = [];

    async function cargarProductos() {
      const baseURL = "https://trendmdq.vercel.app/";
      const categorias = ["productos", "tejidos"];

      contenedorProductos.innerHTML = "";
      contenedorTejidos.innerHTML = "";
      productosArray = [];
      tejidosArray = [];

      for (let cat of categorias) {
        const snap = await db.collection(cat).get();

        snap.forEach(doc => {
          const p = doc.data();

          let imgSrc = p.img || p.imagen || "";

if (Array.isArray(imgSrc)) {
  imgSrc = imgSrc.length > 0 ? imgSrc[0] : "";
}

if (imgSrc && !imgSrc.startsWith("http")) {
  imgSrc = baseURL + imgSrc;
}


          const titulo = p.titulo || p.nombre || "";
          const descripcion = p.desc || p.descripcion || "";

          const productoDiv = document.createElement("div");
          productoDiv.className = "producto";

          // Asegurarnos que tipo y talle existen y coincidan con filtro
          // tipo (ej: "blusa") y talle (ej: ["S","M"]) en array
          productoDiv.dataset.tipo = p.tipo ? p.tipo.toLowerCase() : "";
          productoDiv.dataset.talle = Array.isArray(p.talle) ? p.talle.map(t => t.toUpperCase()).join(",") : "";
          productoDiv.dataset.precio = p.precio || "0";

          productoDiv.innerHTML = `
            <a href="${p.href || '#'}" rel="noopener noreferrer" style="text-decoration: none">
              <img src="${imgSrc}" width="150" />
              <h3>${titulo}</h3>
              <p>${descripcion}</p>
              <p class="precio"><strong>$${p.precio || ""}</strong></p>
            </a>
          `;

          if (cat === "productos") {
            contenedorProductos.appendChild(productoDiv);
            productosArray.push(productoDiv);
          } else if (cat === "tejidos") {
            contenedorTejidos.appendChild(productoDiv);
            tejidosArray.push(productoDiv);
          }
        });
      }

      console.log("Productos cargados:", productosArray.length);
      console.log("Tejidos cargados:", tejidosArray.length);
    }

    function renderizarProductos(array, contenedor) {
      contenedor.innerHTML = "";
      array.forEach(p => contenedor.appendChild(p));
    }

    function filtrarYOrdenar() {
      const tipo = filtroTipo.value.toLowerCase();
      const talle = filtroTalle.value.toUpperCase();
      const orden = filtroPrecio.value;

      console.log("Filtros seleccionados:", {tipo, talle, orden});

      function filtrarArray(arr) {
        return arr.filter(prod => {
          const tipoProd = prod.dataset.tipo || "";
          const talleProd = prod.dataset.talle || "";
          // Para talle, chequeamos que el talle exista dentro del string (split y trim)
          const talleIncluye = talle ? talleProd.split(",").map(t => t.trim()).includes(talle) : true;
          const tipoCoincide = !tipo || tipoProd === tipo;

          return tipoCoincide && talleIncluye;
        });
      }

      function ordenarArray(arr) {
        if (!orden) return arr;
        return arr.slice().sort((a, b) => {
          const precioA = parseInt(a.dataset.precio) || 0;
          const precioB = parseInt(b.dataset.precio) || 0;
          return orden === "asc" ? precioA - precioB : precioB - precioA;
        });
      }

      let filtradosProductos = filtrarArray(productosArray);
      let filtradosTejidos = filtrarArray(tejidosArray);

      filtradosProductos = ordenarArray(filtradosProductos);
      filtradosTejidos = ordenarArray(filtradosTejidos);

      renderizarProductos(filtradosProductos, contenedorProductos);
      renderizarProductos(filtradosTejidos, contenedorTejidos);

      console.log("Productos filtrados:", filtradosProductos.length);
      console.log("Tejidos filtrados:", filtradosTejidos.length);
    }

    filtroTipo.addEventListener("change", filtrarYOrdenar);
    filtroTalle.addEventListener("change", filtrarYOrdenar);
    filtroPrecio.addEventListener("change", filtrarYOrdenar);

    cargarProductos();
  });
</script>






</body>
</html>
